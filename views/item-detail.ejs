<%- include('./partials/header') %>
<div class="<%= item.imgId && 'grid lg:grid-cols-[min-content_1fr] gap-7' %>">
  <%- item.imgId && include('./partials/item-img', { item }) %>

  <div class="flex flex-col gap-2">
    <h2><%= locals.delete ? `${title}: ${decode(item.name)}` : title %></h2>
    <p class="text-lg">
      <strong>Category:</strong>
      <a
        href="<%= item.category.url %>"
        class="text-blue-500 hover:text-blue-600"
      >
        <%= decode(item.category.name) %>
      </a>
    </p>
    <p class="text-lg">
      <strong>Price:</strong>
      <%= formatPrice(item.price) %>
    </p>
    <p class="text-lg">
      <strong>In stock:</strong>
      <%= item.quantity %>
    </p>
    <div>
      <h3 class="text-lg font-bold">Description</h3>
      <p><%= decode(item.description) %></p>
    </div>

    <!-- prettier-ignore -->
    <% if (locals.delete) { %>
      <%- include('./partials/delete-form', { type: 'item', id: item._id}) %>
    <% } else { %>
    <span class="flex gap-2 mt-4">
      <%- include('./partials/delete-button', { type: 'item', id: item._id }) %>
      <%- include('./partials/update-button', { type: 'item', id: item._id }) %>
    </span>
    <% } %>
  </div>
</div>
<%- include('./partials/footer') %>
